# mod-3-project-group-3-chi-sea-ds

## table of contents

### mod-3-project-group-3-chi-sea-ds

### [data](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/data): Contains raw churn data, cleaned churn data, and expanded data

#### ---[raw](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/data/raw): raw churn data
#### ---[.DS_Store](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/data/.DS_Store)
#### ---[2667_4430_bundle_archive.zip](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/data/2667_4430_bundle_archive.zip)
#### ---[bigml_59c28831336c6604c800002a.csv](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/data/bigml_59c28831336c6604c800002a.csv)
#### ---[expanded_dataset_cm](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/data/expanded_dataset_cm): Contains additonal columns 
#### ---[initial_clean_lc](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/data/initial_clean_lc): first cleaned csv

### [notebooks](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks): Contains jupyter notebooks 

#### ---[exploratory](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/exploratory): Contains exploratory notebooks and related shape files and images

#### ------[lmc_exploratory_nb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/exploratory/lmc_exploratory_nb)

#### ---------[state_files_500](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/exploratory/lmc_exploratory_nb/state_files_500)
#### ---------[state_files_again](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/exploratory/lmc_exploratory_nb/state_files_again)
#### ---------[states_basic](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/exploratory/lmc_exploratory_nb/states_basic)
#### ---------[states_files](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/exploratory/lmc_exploratory_nb/states_files)

#### ---------[01_explore_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/01_explore_lc.ipynb)
#### ---------[02_codealong_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/02_codealong_lc.ipynb)
#### ---------[03_eda_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/03_eda_lc.ipynb)
#### ---------[04_m2_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/04_m2_lc.ipynb)
#### ---------[05_state_vis_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/05_state_vis_lc.ipynb)
#### ---------[06_m3_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/06_m3_lc.ipynb)
#### ---------[07_clean_df_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/07_clean_df_lc.ipynb)
#### ---------[08_m4_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/08_m4_lc.ipynb)
#### ---------[09_notebookstats_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/09_notebookstats_lc.ipynb)
#### ---------[ X_dummy_lc ](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/X_dummy_lc)
#### ---------[binary_cats_lc](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/binary_cats_lc)
#### ---------[cb_2018_us_state_5m.shp](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/cb_2018_us_state_5m.shp)
#### ---------[churn_by_state.png](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/churn_by_state.png)
#### ---------[cust_serv_call_churn.png](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/cust_serv_call_churn.png)
#### ---------[drop_areacode_lc](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/drop_areacode_lc)
#### ---------[environment_imports.txt](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/environment_imports.txt)
#### ---------[feature_import_fsm.png](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/feature_import_fsm.png)
#### ---------[int_plan_churn.png](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/int_plan_churn.png)
#### ---------[minutes.png](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/minutes.png)
#### ---------[model_fig.png](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/model_fig.png)
#### ---------[y_lc](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/lmc_exploratory_nb/y_lc)

#### ------[model_iterations](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/exploratory/model_iterations): contains various exploratory models 

#### ---------[01_cm_data_exploration.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/01_cm_data_exploration.ipynb)
#### ---------[02_cm_eda_modeling.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/02_cm_eda_modeling.ipynb)
#### ---------[04_m2_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/04_m2_lc.ipynb)
#### ---------[05_cm_modeling.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/05_cm_modeling.ipynb)
#### ---------[06_cm_modeling.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/06_cm_modeling.ipynb)
#### ---------[06_m3_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/06_m3_lc.ipynb)
#### ---------[07_cm_final_models.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/07_cm_final_models.ipynb)
#### ---------[08_m4_lc.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/model_iterations/08_m4_lc.ipynb)

#### ------[01_cm_data_exploration.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/01_cm_data_exploration.ipynb)
#### ------[02_cm_eda_modeling.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/02_cm_eda_modeling.ipynb)
#### ------[05_cm_modeling.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/05_cm_modeling.ipynb)
#### ------[06_cm_modeling.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/06_cm_modeling.ipynb)
#### ------[07_cm_final_models.ipynb](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/exploratory/07_cm_final_models.ipynb)

#### ---[report](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/notebooks/report): Contains final notebook and visuals
#### ---[.DS_Store](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/notebooks/.DS_Store) 

### [refrences](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/references)

### [reports](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/reports)

#### ---[figures](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/reports/figures)
#### ---[.DS_Store](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/reports/.DS_Store)

### [src](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/tree/master/src): Contains all .py files

#### ---[cm_class_KNN.py](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/src/cm_class_KNN.py)
#### ---[cm_class_LRM.py](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/src/cm_class_KNN.py)
#### ---[cm_functions_balancing.py](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/src/cm_functions_balancing.py)
#### ---[cm_functions_preprocessing.py](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/src/cm_functions_preprocessing.py)
#### ---[cm_functions_tuning.py](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/src/cm_functions_tuning.py)
#### ---[data_cleaning_lc.py](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/src/data_cleaning_lc.py)
#### ---[modelling_lc.py](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/src/modelling_lc.py)

### [.gitignore](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/.gitignore)

### [README.md](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/README.md): _You are here_ 

### [environment.yml](https://github.com/chum46/mod-3-project-group-3-chi-sea-ds/blob/master/environment.yml)

## Setting the Scene:

This project aims to provide SyriaTel with a model to help predict whether a customer will soon churn. In an article about churn reduction in the telecom industry by the Database Marketing Institute, it was noted that telecom companies have an annual average churn rate between 10%-67%. The article states that "industry retention surveys have shown that while price and product are important, most people leave any service because of dissatisfaction with the way they are treated". With this in mind, we aim to highlight areas where customer service could be improved. We find in out report from this dataset, that SyriaTel has a churn rate of roughly 15% in customers who have been with the company for less than 245 days.

## Aims:

This project aims to:

    - Investigate labeled data on 3333 customers who have held accounts with the company for less than 243 days.
    - Provide inferential statistics and visualisations based on this data.
    - Create predictive, supervised learning models from the data to predict churn
    
## Definitions:

    - Churn: a customer who closes their account with SyriaTel. A prediction of True relates to a customer who will churn.
    - Predictive model: A mathemaical processes which takes in data utilizes statistics to predict outcomes. 
    
## Data:

This project utilises data from the Churn in Telecom dataset from Kaggle.

The target variable in this dataset that we aimed to predict was identified as the churn column.

The features of this dataset include locational information (state and area_code) as well as plan details such as call minutes, charges, customer services calls and whether the customer had an international plan and/or voice mail plan. Our model iterations utilised subsets of these features as well as aggregations of these features to determine which features would best predict cusomter churn.

The raw, csv dataset can be downloaded directly from the kaggle website or can be found in this repo here.

## Models used + Methodology:

This project tests a variety of classification models including:

    - Decisioin Tree Classifier
    - Logistic Regression Classifier
    - KNN Classifier
    - Random Forest Classifer
    - Gradient Boost Classifer

We evaluated our models based on the recall score metric as well as the corresponding confusion matrix. Once the best model was identified, we assessed the model performance on a seperate test set to determine whether the model continued to perform well or if the model was overfitting.

The decision behind choosing to evaluate the model on recall was made by considering the cost and impact of false negative predictions, that is, we determined that it was more costly for the company for the model to predict that a customer would stay with SyriaTel when in fact that would churn/leave. This would lead to a missed opportunity for the company to dedicate retention resources towards that customer and keeping their business. Maximising recall score accounts for this scenario in our model and so it was for this reason that we chose this as our evaluation metric.

## Results, Future Investigations and Recommendations:

#### Best model:

Our best model was a gradient boost model which produced a 0.81 recall score on the test data and only 2.9% of the model's predictions on the test data were labeled as false negatives. This was a significant improvement from our FSM which had a recall score of 0.737 and 4.4% of predictions were false negatives.

The parameters of this model were:

    - loss = 'exponential'
    - learning_rate = 0.01
    - min_samples_leaf = 0.1
    - min_samples_split = 0.1
    - max_depth = 3
    - SMOTE balancing
    - StandardScaler

#### Future Investigations and Recommendations:


    - Further investigation should be devoted to looking into the other characteristics of these customers to find out why there was a need to make this many calls to customer service and how the company could better assist these customers.
    - Given that over 42% of international plan holders churn, further investigation into retention efforts for these customers might be a worthwhile effort.
    - Further investigation should be done to see what is going on in these high churn states to see what trends might be causing this.
    - Investigate ways to incentivise customers with total day charges over $55 to stay with with the company by creating added value and perks. This investigation found that 100% of these customers churn.







